{"content":"<h1 id=\"一、安装\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#一、安装\"><span>一、安装</span></a></h1>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># 拉取镜像</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> pull</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> rabbitmq:3.13-management</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -d 参数：后台运行 Docker 容器</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># --name 参数：设置容器名称</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -p 参数：映射端口号，格式是“宿主机端口号:容器内端口号”。5672供客户端程序访问，15672供后台管理界面访问</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -v 参数：卷映射目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -e 参数：设置容器内的环境变量，这里我们设置了登录RabbitMQ管理后台的默认用户和密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -d</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">--name </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">5672:5672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">15672:15672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-v </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq-plugin:/plugins</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_USER=guest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_PASS=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">123456</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rabbitmq:3.13-management</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><br/>\n<h1 id=\"二、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#二、验证\"><span>二、验证</span></a></h1>\n<p>访问后台管理界面：http://192.168.200.100:15672</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194452610.png\" alt=\"image-20231102194452610\"></p>\n<br/>\n<p>使用上面创建Docker容器时指定的默认用户名、密码登录：</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194633997.png\" alt=\"image-20231102194633997\"></p>\n<br/>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194746743.png\" alt=\"image-20231102194746743\"></p>\n<br/>\n<h1 id=\"三、可能的问题\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#三、可能的问题\"><span>三、可能的问题</span></a></h1>\n<h2 id=\"_1、问题现象\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1、问题现象\"><span>1、问题现象</span></a></h2>\n<p>在使用Docker拉取RabbitMQ镜像的时候，如果遇到提示：missing signature key，那就说明Docker版本太低了，需要升级</p>\n<p>比如我目前的Docker版本如下图所示：</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231105151245299.png\" alt=\"image-20231105151245299\"></p>\n<h2 id=\"_2、解决办法\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2、解决办法\"><span>2、解决办法</span></a></h2>\n<blockquote>\n<p>基于CentOS7</p>\n</blockquote>\n<h3 id=\"_1卸载当前docker\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1卸载当前docker\"><span>①卸载当前Docker</span></a></h3>\n<p>更好的办法是安装Docker前曾经给服务器拍摄了快照，此时恢复快照；</p>\n<p>如果不曾拍摄快照，那只能执行卸载操作了</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> erase</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-common</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-ce</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_2升级yum库\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2升级yum库\"><span>②升级yum库</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> update</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><h3 id=\"_3安装docker最新版\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3安装docker最新版\"><span>③安装Docker最新版</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce-cli</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> containerd.io</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-buildx-plugin</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-compose-plugin</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><p>如果这一步看到提示：没有可用软件包 docker-ce，那就添加Docker的yum源：</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yum-utils</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum-config-manager</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --add-repo</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> https://download.docker.com/linux/centos/docker-ce.repo</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_4设置docker服务\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_4设置docker服务\"><span>④设置Docker服务</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> start</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> enable</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"_3、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3、验证\"><span>3、验证</span></a></h2>\n<p>上述操作执行完成后，再次查看Docker版本：</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20240321113218105.png\" alt=\"image-20240321113218105\"></p>\n","env":{"base":"/","filePath":"C:/Users/kylinBachelor/Desktop/my-project/docs/notes/MQ/RabbitMQ/Operation001-Install.md","filePathRelative":"notes/MQ/RabbitMQ/Operation001-Install.md","frontmatter":{"title":"1.RabbitMQ安装","aliases":null,"tags":["RabbitMQ MQ"],"description":"RabbitMQ","createTime":"2024/11/30 14:15:41","draft":false,"permalink":"/article/8455dvvw/"},"sfcBlocks":{"template":{"type":"template","content":"<template><h1 id=\"一、安装\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#一、安装\"><span>一、安装</span></a></h1>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># 拉取镜像</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> pull</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> rabbitmq:3.13-management</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -d 参数：后台运行 Docker 容器</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># --name 参数：设置容器名称</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -p 参数：映射端口号，格式是“宿主机端口号:容器内端口号”。5672供客户端程序访问，15672供后台管理界面访问</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -v 参数：卷映射目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -e 参数：设置容器内的环境变量，这里我们设置了登录RabbitMQ管理后台的默认用户和密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -d</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">--name </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">5672:5672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">15672:15672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-v </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq-plugin:/plugins</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_USER=guest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_PASS=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">123456</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rabbitmq:3.13-management</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><br/>\n<h1 id=\"二、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#二、验证\"><span>二、验证</span></a></h1>\n<p>访问后台管理界面：http://192.168.200.100:15672</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194452610.png\" alt=\"image-20231102194452610\"></p>\n<br/>\n<p>使用上面创建Docker容器时指定的默认用户名、密码登录：</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194633997.png\" alt=\"image-20231102194633997\"></p>\n<br/>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194746743.png\" alt=\"image-20231102194746743\"></p>\n<br/>\n<h1 id=\"三、可能的问题\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#三、可能的问题\"><span>三、可能的问题</span></a></h1>\n<h2 id=\"_1、问题现象\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1、问题现象\"><span>1、问题现象</span></a></h2>\n<p>在使用Docker拉取RabbitMQ镜像的时候，如果遇到提示：missing signature key，那就说明Docker版本太低了，需要升级</p>\n<p>比如我目前的Docker版本如下图所示：</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231105151245299.png\" alt=\"image-20231105151245299\"></p>\n<h2 id=\"_2、解决办法\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2、解决办法\"><span>2、解决办法</span></a></h2>\n<blockquote>\n<p>基于CentOS7</p>\n</blockquote>\n<h3 id=\"_1卸载当前docker\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1卸载当前docker\"><span>①卸载当前Docker</span></a></h3>\n<p>更好的办法是安装Docker前曾经给服务器拍摄了快照，此时恢复快照；</p>\n<p>如果不曾拍摄快照，那只能执行卸载操作了</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> erase</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-common</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-ce</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_2升级yum库\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2升级yum库\"><span>②升级yum库</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> update</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><h3 id=\"_3安装docker最新版\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3安装docker最新版\"><span>③安装Docker最新版</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce-cli</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> containerd.io</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-buildx-plugin</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-compose-plugin</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><p>如果这一步看到提示：没有可用软件包 docker-ce，那就添加Docker的yum源：</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yum-utils</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum-config-manager</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --add-repo</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> https://download.docker.com/linux/centos/docker-ce.repo</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_4设置docker服务\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_4设置docker服务\"><span>④设置Docker服务</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> start</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> enable</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"_3、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3、验证\"><span>3、验证</span></a></h2>\n<p>上述操作执行完成后，再次查看Docker版本：</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20240321113218105.png\" alt=\"image-20240321113218105\"></p>\n</template>","contentStripped":"<h1 id=\"一、安装\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#一、安装\"><span>一、安装</span></a></h1>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># 拉取镜像</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> pull</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> rabbitmq:3.13-management</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -d 参数：后台运行 Docker 容器</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># --name 参数：设置容器名称</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -p 参数：映射端口号，格式是“宿主机端口号:容器内端口号”。5672供客户端程序访问，15672供后台管理界面访问</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -v 参数：卷映射目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -e 参数：设置容器内的环境变量，这里我们设置了登录RabbitMQ管理后台的默认用户和密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -d</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">--name </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">5672:5672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">15672:15672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-v </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq-plugin:/plugins</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_USER=guest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_PASS=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">123456</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rabbitmq:3.13-management</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><br/>\n<h1 id=\"二、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#二、验证\"><span>二、验证</span></a></h1>\n<p>访问后台管理界面：http://192.168.200.100:15672</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194452610.png\" alt=\"image-20231102194452610\"></p>\n<br/>\n<p>使用上面创建Docker容器时指定的默认用户名、密码登录：</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194633997.png\" alt=\"image-20231102194633997\"></p>\n<br/>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194746743.png\" alt=\"image-20231102194746743\"></p>\n<br/>\n<h1 id=\"三、可能的问题\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#三、可能的问题\"><span>三、可能的问题</span></a></h1>\n<h2 id=\"_1、问题现象\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1、问题现象\"><span>1、问题现象</span></a></h2>\n<p>在使用Docker拉取RabbitMQ镜像的时候，如果遇到提示：missing signature key，那就说明Docker版本太低了，需要升级</p>\n<p>比如我目前的Docker版本如下图所示：</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231105151245299.png\" alt=\"image-20231105151245299\"></p>\n<h2 id=\"_2、解决办法\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2、解决办法\"><span>2、解决办法</span></a></h2>\n<blockquote>\n<p>基于CentOS7</p>\n</blockquote>\n<h3 id=\"_1卸载当前docker\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1卸载当前docker\"><span>①卸载当前Docker</span></a></h3>\n<p>更好的办法是安装Docker前曾经给服务器拍摄了快照，此时恢复快照；</p>\n<p>如果不曾拍摄快照，那只能执行卸载操作了</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> erase</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-common</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-ce</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_2升级yum库\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2升级yum库\"><span>②升级yum库</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> update</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><h3 id=\"_3安装docker最新版\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3安装docker最新版\"><span>③安装Docker最新版</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce-cli</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> containerd.io</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-buildx-plugin</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-compose-plugin</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><p>如果这一步看到提示：没有可用软件包 docker-ce，那就添加Docker的yum源：</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yum-utils</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum-config-manager</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --add-repo</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> https://download.docker.com/linux/centos/docker-ce.repo</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_4设置docker服务\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_4设置docker服务\"><span>④设置Docker服务</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> start</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> enable</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"_3、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3、验证\"><span>3、验证</span></a></h2>\n<p>上述操作执行完成后，再次查看Docker版本：</p>\n<p><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20240321113218105.png\" alt=\"image-20240321113218105\"></p>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"# 一、安装\r\n\r\n```shell\r\n# 拉取镜像\r\ndocker pull rabbitmq:3.13-management\r\n\r\n# -d 参数：后台运行 Docker 容器\r\n# --name 参数：设置容器名称\r\n# -p 参数：映射端口号，格式是“宿主机端口号:容器内端口号”。5672供客户端程序访问，15672供后台管理界面访问\r\n# -v 参数：卷映射目录\r\n# -e 参数：设置容器内的环境变量，这里我们设置了登录RabbitMQ管理后台的默认用户和密码\r\ndocker run -d \\\r\n--name rabbitmq \\\r\n-p 5672:5672 \\\r\n-p 15672:15672 \\\r\n-v rabbitmq-plugin:/plugins \\\r\n-e RABBITMQ_DEFAULT_USER=guest \\\r\n-e RABBITMQ_DEFAULT_PASS=123456 \\\r\nrabbitmq:3.13-management\r\n```\r\n\r\n\r\n\r\n<br/>\r\n\r\n\r\n\r\n# 二、验证\r\n\r\n访问后台管理界面：http://192.168.200.100:15672\r\n\r\n![image-20231102194452610](./assets/image-20231102194452610.png)\r\n\r\n\r\n\r\n<br/>\r\n\r\n使用上面创建Docker容器时指定的默认用户名、密码登录：\r\n\r\n![image-20231102194633997](./assets/image-20231102194633997.png)\r\n\r\n\r\n\r\n<br/>\r\n\r\n\r\n\r\n![image-20231102194746743](./assets/image-20231102194746743.png)\r\n\r\n\r\n\r\n<br/>\r\n\r\n\r\n\r\n# 三、可能的问题\r\n\r\n## 1、问题现象\r\n\r\n在使用Docker拉取RabbitMQ镜像的时候，如果遇到提示：missing signature key，那就说明Docker版本太低了，需要升级\r\n\r\n比如我目前的Docker版本如下图所示：\r\n\r\n![image-20231105151245299](./assets/image-20231105151245299.png)\r\n\r\n\r\n\r\n## 2、解决办法\r\n\r\n> 基于CentOS7\r\n\r\n### ①卸载当前Docker\r\n\r\n更好的办法是安装Docker前曾经给服务器拍摄了快照，此时恢复快照；\r\n\r\n如果不曾拍摄快照，那只能执行卸载操作了\r\n\r\n```shell\r\nyum erase -y docker \\\r\n\tdocker-client \\\r\n\tdocker-client-latest \\\r\n\tdocker-common \\\r\n\tdocker-latest \\\r\n\tdocker-latest-logrotate \\\r\n\tdocker-logrotate \\\r\n\tdocker-selinux \\\r\n\tdocker-engine-selinux \\\r\n\tdocker-engine \\\r\n\tdocker-ce\r\n```\r\n\r\n\r\n\r\n### ②升级yum库\r\n\r\n```shell\r\nyum update -y\r\n```\r\n\r\n\r\n\r\n### ③安装Docker最新版\r\n\r\n```shell\r\nyum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\r\n```\r\n\r\n\r\n\r\n如果这一步看到提示：没有可用软件包 docker-ce，那就添加Docker的yum源：\r\n\r\n```shell\r\nyum install -y yum-utils\r\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\r\n```\r\n\r\n\r\n\r\n### ④设置Docker服务\r\n\r\n```shell\r\nsystemctl start docker\r\nsystemctl enable docker\r\n```\r\n\r\n\r\n\r\n## 3、验证\r\n\r\n上述操作执行完成后，再次查看Docker版本：\r\n\r\n![image-20240321113218105](./assets/image-20240321113218105.png)","excerpt":"","includedFiles":[],"tasklists":0,"title":"一、安装","headers":[{"level":2,"title":"1、问题现象","slug":"_1、问题现象","link":"#_1、问题现象","children":[]},{"level":2,"title":"2、解决办法","slug":"_2、解决办法","link":"#_2、解决办法","children":[{"level":3,"title":"①卸载当前Docker","slug":"_1卸载当前docker","link":"#_1卸载当前docker","children":[]},{"level":3,"title":"②升级yum库","slug":"_2升级yum库","link":"#_2升级yum库","children":[]},{"level":3,"title":"③安装Docker最新版","slug":"_3安装docker最新版","link":"#_3安装docker最新版","children":[]},{"level":3,"title":"④设置Docker服务","slug":"_4设置docker服务","link":"#_4设置docker服务","children":[]}]},{"level":2,"title":"3、验证","slug":"_3、验证","link":"#_3、验证","children":[]}]}}
