{"content":"<h4 id=\"查看表结构\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#查看表结构\"><span>查看表结构</span></a></h4>\n<div class=\"language-sql line-numbers-mode\" data-ext=\"sql\" data-title=\"sql\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">select</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">distinct</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">COLUMN_ID</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 排序,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">comments</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 中文名,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">column_name</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 字段名,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\">concat</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">data_type</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">,</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">,</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">data_length</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">)</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 类型,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">否</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 主键,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">否</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 外键,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">''</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 备注</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">from</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_tab_columns utc,user_col_comments ucc</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">where</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">column_name</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> =</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">column_name</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> and</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">Table_Name</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> =</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">Table_Name</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">AND</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">TABLE_NAME</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">PORTAL_FUNCTIONAL_PERMISSIONS</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"> -- 表明</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">AND</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">owner</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">PORTAL</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">  -- 模式SCHEMA名</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">order by</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">COLUMN_ID</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h4 id=\"常用函数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#常用函数\"><span>常用函数</span></a></h4>\n<div class=\"language-sql line-numbers-mode\" data-ext=\"sql\" data-title=\"sql\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- 1. 时间格式化 时间戳-》YYYY-MM-DD形式</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">FROM_UNIXTIME(create_time</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">/</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">1000</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">,</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">YYYY-MM-DD hh:mm:ss</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- 2. json类型字段查询</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\">JSON_VALUE</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(jsonparam, </span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$.key</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- value为非数组情况</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\">JSON_VALUE</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(jsonparam, </span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$.key[0]</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- value为数组的情况下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">select</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> lower</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(rawtohex(sys_guid</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)) </span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- id生成</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","env":{"base":"/","filePath":"C:/Users/kylinBachelor/Desktop/my-project/docs/notes/数据库/常见达梦数据库操作/index.md","filePathRelative":"notes/数据库/常见达梦数据库操作/index.md","frontmatter":{"title":"常见达梦数据库操作","aliases":null,"tags":["达梦数据库","数据库"],"description":"常见达梦数据库操作","createTime":"2024/11/30 14:15:41","draft":false},"sfcBlocks":{"template":{"type":"template","content":"<template><h4 id=\"查看表结构\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#查看表结构\"><span>查看表结构</span></a></h4>\n<div class=\"language-sql line-numbers-mode\" data-ext=\"sql\" data-title=\"sql\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">select</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">distinct</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">COLUMN_ID</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 排序,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">comments</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 中文名,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">column_name</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 字段名,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\">concat</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">data_type</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">,</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">,</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">data_length</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">)</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 类型,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">否</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 主键,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">否</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 外键,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">''</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 备注</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">from</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_tab_columns utc,user_col_comments ucc</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">where</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">column_name</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> =</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">column_name</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> and</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">Table_Name</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> =</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">Table_Name</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">AND</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">TABLE_NAME</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">PORTAL_FUNCTIONAL_PERMISSIONS</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"> -- 表明</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">AND</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">owner</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">PORTAL</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">  -- 模式SCHEMA名</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">order by</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">COLUMN_ID</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h4 id=\"常用函数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#常用函数\"><span>常用函数</span></a></h4>\n<div class=\"language-sql line-numbers-mode\" data-ext=\"sql\" data-title=\"sql\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- 1. 时间格式化 时间戳-》YYYY-MM-DD形式</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">FROM_UNIXTIME(create_time</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">/</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">1000</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">,</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">YYYY-MM-DD hh:mm:ss</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- 2. json类型字段查询</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\">JSON_VALUE</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(jsonparam, </span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$.key</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- value为非数组情况</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\">JSON_VALUE</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(jsonparam, </span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$.key[0]</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- value为数组的情况下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">select</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> lower</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(rawtohex(sys_guid</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)) </span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- id生成</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></template>","contentStripped":"<h4 id=\"查看表结构\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#查看表结构\"><span>查看表结构</span></a></h4>\n<div class=\"language-sql line-numbers-mode\" data-ext=\"sql\" data-title=\"sql\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">select</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">distinct</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">COLUMN_ID</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 排序,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">comments</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 中文名,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">column_name</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 字段名,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\">concat</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">data_type</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">,</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">,</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">data_length</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">)</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 类型,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">否</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 主键,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">否</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 外键,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">''</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 备注</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">from</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_tab_columns utc,user_col_comments ucc</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">where</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">column_name</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> =</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">column_name</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> and</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">Table_Name</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> =</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">Table_Name</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">AND</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">TABLE_NAME</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">PORTAL_FUNCTIONAL_PERMISSIONS</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"> -- 表明</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">AND</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> ucc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">owner</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">PORTAL</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">  -- 模式SCHEMA名</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">order by</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> utc</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">COLUMN_ID</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h4 id=\"常用函数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#常用函数\"><span>常用函数</span></a></h4>\n<div class=\"language-sql line-numbers-mode\" data-ext=\"sql\" data-title=\"sql\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- 1. 时间格式化 时间戳-》YYYY-MM-DD形式</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">FROM_UNIXTIME(create_time</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">/</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">1000</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">,</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">YYYY-MM-DD hh:mm:ss</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- 2. json类型字段查询</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\">JSON_VALUE</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(jsonparam, </span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$.key</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- value为非数组情况</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\">JSON_VALUE</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(jsonparam, </span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$.key[0]</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- value为数组的情况下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">select</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> lower</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(rawtohex(sys_guid</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)) </span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">-- id生成</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"#### 查看表结构\r\n\r\n```sql\r\nselect\r\ndistinct\r\nutc.COLUMN_ID 排序,\r\nucc.comments as 中文名,\r\nutc.column_name as 字段名,\r\nconcat(utc.data_type,'(',utc.data_length, ')') as 类型,\r\n'否' as 主键,\r\n'否' as 外键,\r\n'' as 备注\r\nfrom user_tab_columns utc,user_col_comments ucc\r\nwhere utc.column_name = ucc.column_name and utc.Table_Name = ucc.Table_Name\r\n\r\nAND utc.TABLE_NAME='PORTAL_FUNCTIONAL_PERMISSIONS' -- 表明\r\nAND ucc.owner='PORTAL'  -- 模式SCHEMA名\r\norder by utc.COLUMN_ID\r\n```\r\n\r\n#### 常用函数\r\n\r\n```sql\r\n-- 1. 时间格式化 时间戳-》YYYY-MM-DD形式\r\nFROM_UNIXTIME(create_time/1000,'YYYY-MM-DD hh:mm:ss')\r\n\r\n-- 2. json类型字段查询\r\nJSON_VALUE(jsonparam, '$.key') -- value为非数组情况\r\nJSON_VALUE(jsonparam, '$.key[0]') -- value为数组的情况下\r\nselect lower(rawtohex(sys_guid())) -- id生成\r\n```","excerpt":"","includedFiles":[],"tasklists":0,"title":"","headers":[]}}
