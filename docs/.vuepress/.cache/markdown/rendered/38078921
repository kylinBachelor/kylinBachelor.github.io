{"content":"<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># 拉取镜像</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> pull</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> rabbitmq:3.13-management</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -d 参数：后台运行 Docker 容器</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># --name 参数：设置容器名称</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -p 参数：映射端口号，格式是“宿主机端口号:容器内端口号”。5672供客户端程序访问，15672供后台管理界面访问</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -v 参数：卷映射目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -e 参数：设置容器内的环境变量，这里我们设置了登录RabbitMQ管理后台的默认用户和密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -d</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">--name </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">5672:5672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">15672:15672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-v </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq-plugin:/plugins</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_USER=guest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_PASS=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">123456</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rabbitmq:3.13-management</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><br/>\n<h1 id=\"二、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#二、验证\"><span>二、验证</span></a></h1>\n<p>访问后台管理界面：http://192.168.200.100:15672</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194452610.png\" alt=\"image-20231102194452610\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231102194452610</figcaption></figure>\n<br/>\n<p>使用上面创建Docker容器时指定的默认用户名、密码登录：</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194633997.png\" alt=\"image-20231102194633997\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231102194633997</figcaption></figure>\n<br/>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194746743.png\" alt=\"image-20231102194746743\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231102194746743</figcaption></figure>\n<br/>\n<h1 id=\"三、可能的问题\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#三、可能的问题\"><span>三、可能的问题</span></a></h1>\n<h2 id=\"_1、问题现象\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1、问题现象\"><span>1、问题现象</span></a></h2>\n<p>在使用Docker拉取RabbitMQ镜像的时候，如果遇到提示：missing signature key，那就说明Docker版本太低了，需要升级</p>\n<p>比如我目前的Docker版本如下图所示：</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231105151245299.png\" alt=\"image-20231105151245299\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231105151245299</figcaption></figure>\n<h2 id=\"_2、解决办法\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2、解决办法\"><span>2、解决办法</span></a></h2>\n<blockquote>\n<p>基于CentOS7</p>\n</blockquote>\n<h3 id=\"_1卸载当前docker\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1卸载当前docker\"><span>①卸载当前Docker</span></a></h3>\n<p>更好的办法是安装Docker前曾经给服务器拍摄了快照，此时恢复快照；</p>\n<p>如果不曾拍摄快照，那只能执行卸载操作了</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> erase</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-common</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-ce</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_2升级yum库\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2升级yum库\"><span>②升级yum库</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> update</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><h3 id=\"_3安装docker最新版\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3安装docker最新版\"><span>③安装Docker最新版</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce-cli</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> containerd.io</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-buildx-plugin</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-compose-plugin</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><p>如果这一步看到提示：没有可用软件包 docker-ce，那就添加Docker的yum源：</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yum-utils</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum-config-manager</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --add-repo</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> https://download.docker.com/linux/centos/docker-ce.repo</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_4设置docker服务\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_4设置docker服务\"><span>④设置Docker服务</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> start</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> enable</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"_3、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3、验证\"><span>3、验证</span></a></h2>\n<p>上述操作执行完成后，再次查看Docker版本：</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20240321113218105.png\" alt=\"image-20240321113218105\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20240321113218105</figcaption></figure>\n","env":{"base":"/","filePath":"F:/my_source_code/kylinBachelor.github.io/docs/notes/MQ/RabbitMQ/RabbitMQ安装.md","filePathRelative":"notes/MQ/RabbitMQ/RabbitMQ安装.md","frontmatter":{"title":"RabbitMQ安装","createTime":"2024/12/01 13:30:21"},"sfcBlocks":{"template":{"type":"template","content":"<template><div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># 拉取镜像</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> pull</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> rabbitmq:3.13-management</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -d 参数：后台运行 Docker 容器</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># --name 参数：设置容器名称</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -p 参数：映射端口号，格式是“宿主机端口号:容器内端口号”。5672供客户端程序访问，15672供后台管理界面访问</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -v 参数：卷映射目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -e 参数：设置容器内的环境变量，这里我们设置了登录RabbitMQ管理后台的默认用户和密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -d</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">--name </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">5672:5672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">15672:15672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-v </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq-plugin:/plugins</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_USER=guest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_PASS=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">123456</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rabbitmq:3.13-management</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><br/>\n<h1 id=\"二、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#二、验证\"><span>二、验证</span></a></h1>\n<p>访问后台管理界面：http://192.168.200.100:15672</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194452610.png\" alt=\"image-20231102194452610\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231102194452610</figcaption></figure>\n<br/>\n<p>使用上面创建Docker容器时指定的默认用户名、密码登录：</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194633997.png\" alt=\"image-20231102194633997\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231102194633997</figcaption></figure>\n<br/>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194746743.png\" alt=\"image-20231102194746743\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231102194746743</figcaption></figure>\n<br/>\n<h1 id=\"三、可能的问题\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#三、可能的问题\"><span>三、可能的问题</span></a></h1>\n<h2 id=\"_1、问题现象\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1、问题现象\"><span>1、问题现象</span></a></h2>\n<p>在使用Docker拉取RabbitMQ镜像的时候，如果遇到提示：missing signature key，那就说明Docker版本太低了，需要升级</p>\n<p>比如我目前的Docker版本如下图所示：</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231105151245299.png\" alt=\"image-20231105151245299\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231105151245299</figcaption></figure>\n<h2 id=\"_2、解决办法\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2、解决办法\"><span>2、解决办法</span></a></h2>\n<blockquote>\n<p>基于CentOS7</p>\n</blockquote>\n<h3 id=\"_1卸载当前docker\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1卸载当前docker\"><span>①卸载当前Docker</span></a></h3>\n<p>更好的办法是安装Docker前曾经给服务器拍摄了快照，此时恢复快照；</p>\n<p>如果不曾拍摄快照，那只能执行卸载操作了</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> erase</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-common</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-ce</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_2升级yum库\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2升级yum库\"><span>②升级yum库</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> update</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><h3 id=\"_3安装docker最新版\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3安装docker最新版\"><span>③安装Docker最新版</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce-cli</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> containerd.io</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-buildx-plugin</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-compose-plugin</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><p>如果这一步看到提示：没有可用软件包 docker-ce，那就添加Docker的yum源：</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yum-utils</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum-config-manager</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --add-repo</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> https://download.docker.com/linux/centos/docker-ce.repo</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_4设置docker服务\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_4设置docker服务\"><span>④设置Docker服务</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> start</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> enable</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"_3、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3、验证\"><span>3、验证</span></a></h2>\n<p>上述操作执行完成后，再次查看Docker版本：</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20240321113218105.png\" alt=\"image-20240321113218105\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20240321113218105</figcaption></figure>\n</template>","contentStripped":"<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># 拉取镜像</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> pull</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> rabbitmq:3.13-management</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -d 参数：后台运行 Docker 容器</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># --name 参数：设置容器名称</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -p 参数：映射端口号，格式是“宿主机端口号:容器内端口号”。5672供客户端程序访问，15672供后台管理界面访问</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -v 参数：卷映射目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\"># -e 参数：设置容器内的环境变量，这里我们设置了登录RabbitMQ管理后台的默认用户和密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -d</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">--name </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">5672:5672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-p </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">15672:15672</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-v </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">rabbitmq-plugin:/plugins</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_USER=guest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">-e </span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">RABBITMQ_DEFAULT_PASS=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">123456</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rabbitmq:3.13-management</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><br/>\n<h1 id=\"二、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#二、验证\"><span>二、验证</span></a></h1>\n<p>访问后台管理界面：http://192.168.200.100:15672</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194452610.png\" alt=\"image-20231102194452610\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231102194452610</figcaption></figure>\n<br/>\n<p>使用上面创建Docker容器时指定的默认用户名、密码登录：</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194633997.png\" alt=\"image-20231102194633997\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231102194633997</figcaption></figure>\n<br/>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231102194746743.png\" alt=\"image-20231102194746743\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231102194746743</figcaption></figure>\n<br/>\n<h1 id=\"三、可能的问题\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#三、可能的问题\"><span>三、可能的问题</span></a></h1>\n<h2 id=\"_1、问题现象\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1、问题现象\"><span>1、问题现象</span></a></h2>\n<p>在使用Docker拉取RabbitMQ镜像的时候，如果遇到提示：missing signature key，那就说明Docker版本太低了，需要升级</p>\n<p>比如我目前的Docker版本如下图所示：</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20231105151245299.png\" alt=\"image-20231105151245299\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20231105151245299</figcaption></figure>\n<h2 id=\"_2、解决办法\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2、解决办法\"><span>2、解决办法</span></a></h2>\n<blockquote>\n<p>基于CentOS7</p>\n</blockquote>\n<h3 id=\"_1卸载当前docker\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1卸载当前docker\"><span>①卸载当前Docker</span></a></h3>\n<p>更好的办法是安装Docker前曾经给服务器拍摄了快照，此时恢复快照；</p>\n<p>如果不曾拍摄快照，那只能执行卸载操作了</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> erase</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-client-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-common</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-latest-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-logrotate</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine-selinux</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-engine</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> \\</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\tdocker-ce</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_2升级yum库\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2升级yum库\"><span>②升级yum库</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> update</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><h3 id=\"_3安装docker最新版\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3安装docker最新版\"><span>③安装Docker最新版</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-ce-cli</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> containerd.io</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-buildx-plugin</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker-compose-plugin</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><p>如果这一步看到提示：没有可用软件包 docker-ce，那就添加Docker的yum源：</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -y</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yum-utils</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">yum-config-manager</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --add-repo</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> https://download.docker.com/linux/centos/docker-ce.repo</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3 id=\"_4设置docker服务\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_4设置docker服务\"><span>④设置Docker服务</span></a></h3>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> start</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">systemctl</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> enable</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> docker</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"_3、验证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3、验证\"><span>3、验证</span></a></h2>\n<p>上述操作执行完成后，再次查看Docker版本：</p>\n<figure><img src=\"@source/notes/MQ/RabbitMQ/assets/image-20240321113218105.png\" alt=\"image-20240321113218105\" tabindex=\"0\" loading=\"lazy\"><figcaption>image-20240321113218105</figcaption></figure>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"\n```shell\n# 拉取镜像\ndocker pull rabbitmq:3.13-management\n\n# -d 参数：后台运行 Docker 容器\n# --name 参数：设置容器名称\n# -p 参数：映射端口号，格式是“宿主机端口号:容器内端口号”。5672供客户端程序访问，15672供后台管理界面访问\n# -v 参数：卷映射目录\n# -e 参数：设置容器内的环境变量，这里我们设置了登录RabbitMQ管理后台的默认用户和密码\ndocker run -d \\\n--name rabbitmq \\\n-p 5672:5672 \\\n-p 15672:15672 \\\n-v rabbitmq-plugin:/plugins \\\n-e RABBITMQ_DEFAULT_USER=guest \\\n-e RABBITMQ_DEFAULT_PASS=123456 \\\nrabbitmq:3.13-management\n```\n\n\n\n<br/>\n\n\n\n# 二、验证\n\n访问后台管理界面：http://192.168.200.100:15672\n\n![image-20231102194452610](./assets/image-20231102194452610.png)\n\n\n\n<br/>\n\n使用上面创建Docker容器时指定的默认用户名、密码登录：\n\n![image-20231102194633997](./assets/image-20231102194633997.png)\n\n\n\n<br/>\n\n\n\n![image-20231102194746743](./assets/image-20231102194746743.png)\n\n\n\n<br/>\n\n\n\n# 三、可能的问题\n\n## 1、问题现象\n\n在使用Docker拉取RabbitMQ镜像的时候，如果遇到提示：missing signature key，那就说明Docker版本太低了，需要升级\n\n比如我目前的Docker版本如下图所示：\n\n![image-20231105151245299](./assets/image-20231105151245299.png)\n\n\n\n## 2、解决办法\n\n> 基于CentOS7\n\n### ①卸载当前Docker\n\n更好的办法是安装Docker前曾经给服务器拍摄了快照，此时恢复快照；\n\n如果不曾拍摄快照，那只能执行卸载操作了\n\n```shell\nyum erase -y docker \\\n\tdocker-client \\\n\tdocker-client-latest \\\n\tdocker-common \\\n\tdocker-latest \\\n\tdocker-latest-logrotate \\\n\tdocker-logrotate \\\n\tdocker-selinux \\\n\tdocker-engine-selinux \\\n\tdocker-engine \\\n\tdocker-ce\n```\n\n\n\n### ②升级yum库\n\n```shell\nyum update -y\n```\n\n\n\n### ③安装Docker最新版\n\n```shell\nyum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n```\n\n\n\n如果这一步看到提示：没有可用软件包 docker-ce，那就添加Docker的yum源：\n\n```shell\nyum install -y yum-utils\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n```\n\n\n\n### ④设置Docker服务\n\n```shell\nsystemctl start docker\nsystemctl enable docker\n```\n\n\n\n## 3、验证\n\n上述操作执行完成后，再次查看Docker版本：\n\n![image-20240321113218105](./assets/image-20240321113218105.png)","excerpt":"","includedFiles":[],"tasklists":0,"title":"二、验证","headers":[{"level":2,"title":"1、问题现象","slug":"_1、问题现象","link":"#_1、问题现象","children":[]},{"level":2,"title":"2、解决办法","slug":"_2、解决办法","link":"#_2、解决办法","children":[{"level":3,"title":"①卸载当前Docker","slug":"_1卸载当前docker","link":"#_1卸载当前docker","children":[]},{"level":3,"title":"②升级yum库","slug":"_2升级yum库","link":"#_2升级yum库","children":[]},{"level":3,"title":"③安装Docker最新版","slug":"_3安装docker最新版","link":"#_3安装docker最新版","children":[]},{"level":3,"title":"④设置Docker服务","slug":"_4设置docker服务","link":"#_4设置docker服务","children":[]}]},{"level":2,"title":"3、验证","slug":"_3、验证","link":"#_3、验证","children":[]}]}}
